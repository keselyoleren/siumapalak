{% extends 'layouts/main.html' %}
<style>
  button {
    border: none;
    outline: none;
    width: 35%;
    height: 50px;
    background: #fb2525;
    color: #fff;
    font-size: 18px;
    font-weight: 300;
    cursor: pointer;
    border-radius: 20px;
}
</style>
{% load static %}

{% block content %}
  <!-- Page Heading -->
  <div class="d-sm-flex align-items-center justify-content-between mb-4">
    <h1 class="h3 mb-0 text-gray-800">Performance</h1>
  </div>

  <div class="card shadow mb-4">
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
      <h4 class="m-0 font-weight-bold text-primary">General</h4>
    </div>

    <div class="card-body">
      <div class="row">
        <!-- Earnings (Monthly) Card Example -->
        <div class="col-md-12">
          <div class="card border-left-default shadow h-100 py-2">
            <div class="card-body">
              <div class="row">
                <div class="col-md-4">
                  <div class="card border-left-primary shadow h-100 py-2">
                    <div class="card-body">
                      <div id="rpm_generator" class="gauge"></div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card border-left-success shadow h-100 py-2">
                    <div class="card-body">
                      <div class="table-responsive">
                        <img id="img_generator" src="{% static 'img/generator.png' %}" alt="Positive Image" style="height: 150px; width: 225px;">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card border-left-success shadow h-100 py-2">
                    <div class="card-body">
                      <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Level Air</div>
                      <div id="level_air" class="gauge"></div>
                    </div>
                  </div>
                </div>
              </div>
              <br>
              <div class="row">
                <div class="col-md-4">
                  <div class="card border-left-primary shadow h-100 py-2">
                    <div class="card-body">
                      <div id="battery">
                          <div id="charge"></div>
                          <div id="charge-level"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card border-left-success shadow h-100 py-2">
                      <div class="card-body">
                        <div class="row">
                          <div class="col-md-4">
                              <div class="waveStrength-3">
                                  <center><h5>sw 1</h5></center>
                                  <div id="height" class="wv4 wave" >
                                      <div id="medium" class="wv4 wave">
                                          <div id="normal" class="wv2 wave">
                                              <div id="low" class="wv1 wave">
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                          <div class="col-md-4">
                              <div class="waveStrength-3">
                                  <center><h5>sw 2</h5></center>
                                  <div id="height2" class="wv4 wave" >
                                      <div id="medium2" class="wv4 wave">
                                          <div id="normal2" class="wv2 wave">
                                              <div id="low2" class="wv1 wave">
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                          <div class="col-md-4">
                            <div class="waveStrength-3">
                                <center><h5>sw 3</h5></center>
                                <div id="height3" class="wv4 wave" >
                                    <div id="medium3" class="wv4 wave">
                                        <div id="normal3" class="wv2 wave">
                                            <div id="low3" class="wv1 wave">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card border-left-primary shadow h-100 py-2">
                    <div class="card-body">
                      <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Gate</div>
                      <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                          <button class="btn btn-danger" id="gate">CLOSE</button>
                        </div>
                        <div class="col-auto">
                          <svg xmlns="http://www.w3.org/2000/svg" height="2em" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M320 32c0-9.9-4.5-19.2-12.3-25.2S289.8-1.4 280.2 1l-179.9 45C79 51.3 64 70.5 64 92.5V448H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H96 288h32V480 32zM256 256c0 17.7-10.7 32-24 32s-24-14.3-24-32s10.7-32 24-32s24 14.3 24 32zm96-128h96V480c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H512V128c0-35.3-28.7-64-64-64H352v64z"/></svg>
                      </div>
                    </div>
                  </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <br>
  
  <div class="card shadow mb-4">
    <!-- Card Header - Dropdown -->
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
      <h4 class="m-0 font-weight-bold text-primary">Data</h4>
    </div>
    <!-- Card Body -->
    <div class="card-body">
      <ul class="list-group">
        <div class="row">
          <div class="col-md-6">
            <li class="list-group-item d-flex justify-content-between align-items-center">
              V DC
              <span id="vdc" class="badge badge-primary badge-pill">0</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              I DC
              <span id="idc" class="badge badge-primary badge-pill">0</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              P DC
              <span id="pdc" class="badge badge-primary badge-pill">0</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              E DC
              <span id="edc" class="badge badge-primary badge-pill">0</span>
            </li>
          </div>
          <div class="col-md-6">
            <li class="list-group-item d-flex justify-content-between align-items-center">
              V AC
              <span id="vac" class="badge badge-primary badge-pill">0</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              I AC
              <span id="iac" class="badge badge-primary badge-pill">0</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              P AC
              <span id="pac" class="badge badge-primary badge-pill">0</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              E AC
              <span id="eac" class="badge badge-primary badge-pill">0</span>
            </li>
          </div>
        </div>
      </ul>
    </div>
  </div>
  
  
  <div class="card shadow mb-4">
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
      <h4 class="m-0 font-weight-bold text-primary">Control</h4>
    </div>

    <div class="card-body">
      <div class="row">
        <div class="col-md-12">
          <div class="card border-left-primary shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="row">
                    <div class="col-sm-6">
                      <h4>Charging</h4>
                    </div>
                    <div class="col-sm-6">
                      <input type="checkbox" id="charging" data-toggle="toggle" data-onstyle="success" data-offstyle="danger">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12">
          <div class="card border-left-primary shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="row">
                    <div class="col-sm-6">
                      <h4>Pompa 1</h4>
                    </div>
                    <div class="col-sm-6">
                      <input type="checkbox" id="pompa1" data-toggle="toggle" data-onstyle="success" data-offstyle="danger">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12">
          <div class="card border-left-primary shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="row">
                    <div class="col-sm-6">
                      <h4>Pompa 2</h4>
                    </div>
                    <div class="col-sm-6">
                      <input type="checkbox" id="pompa2" data-toggle="toggle" data-onstyle="success" data-offstyle="danger">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12">
          <div class="card border-left-primary shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="row">
                    <div class="col-sm-6">
                      <h4>Pompa 3</h4>
                    </div>
                    <div class="col-sm-6">
                      <input type="checkbox" id="pompa3" data-toggle="toggle" data-onstyle="success" data-offstyle="danger">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12">
          <div class="card border-left-primary shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="row">
                    <div class="col-sm-6">
                      <h4>Pompa 4</h4>
                    </div>
                    <div class="col-sm-6">
                      <input type="checkbox" id="pompa4" data-toggle="toggle" data-onstyle="success" data-offstyle="danger">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12">
        </div>
        
      </div>

    </div>
  </div>
  <!-- Content Row -->
  <div class="card shadow mb-4">
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
      <h4 class="m-0 font-weight-bold text-primary">Soil Moisture</h4>
    </div>

    <div class="card-body">
      <div class="row">
        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
          <div class="card border-left-primary shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Zone 1</div>
                  <div id="zone1" class="gauge"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
          <div class="card border-left-success shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Zone 2</div>
                  <div id="zone2" class="gauge"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
          <div class="card border-left-info shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Zone 3</div>
                  <div id="zone3" class="gauge"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Pending Requests Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
          <div class="card border-left-warning shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">Zone 4</div>
                  <div id="zone4" class="gauge"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card shadow mb-4">
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
      <h4 class="m-0 font-weight-bold text-primary">Temperatur</h4>
    </div>

    <div class="card-body">
      <div class="row">
        <!-- Earnings (Monthly) Card Example -->
        <div class="col-md-3">
          <div class="card border-left-primary shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Generator</div>
                  <div id="temp_generator" class="gauge"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-md-3">
          <div class="card border-left-success shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Batrey 1</div>
                  <div id="temp_bat_1" class="gauge"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-md-3">
          <div class="card border-left-info shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Baterai</div>
                  <div id="temp_bat_2" class="gauge"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
            <div class="card border-left-info shadow h-100 py-2">
              <div class="card-body">
                <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Room</div>
                    <div id="room_temp" class="gauge"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
{% endblock %}
{% block js %}
  <script>
    const chargeLevel = document.getElementById('charge-level')
    const charge = document.getElementById('charge')
    const chargingTimeRef = document.getElementById('charging-time')
    
    let batteryLevel = `${parseInt(40)}%`
    charge.style.width = batteryLevel
    chargeLevel.textContent = batteryLevel
    
    var zone1 = 0
    var zone2 = 0
    var zone3 = 0
    var zone4 = 0
    
    const npmGenerator = (id, value) =>
      new JustGage({
        id,
        value,
        min: 0,
        max: 5000,
        symbol: ' RPM',
        donut: true,
        pointer: true,
        gaugeWidthScale: 0.4,
        pointerOptions: {
          toplength: 12,
          bottomlength: 10,
          bottomwidth: 8,
          color: '#000'
        },
        customSectors: [
          {
            color: '#ff0000',
            lo: 50,
            hi: 100
          },
          {
            color: '#00ff00',
            lo: 0,
            hi: 50
          }
        ],
        counter: true
      })
    
    // Define zone gauges
    const createZoneGauge = (id, value) =>
      new JustGage({
        id,
        pointer: true,
        symbol: ' %',
        value,
        min: 0,
        max: 100,
        gaugeWidthScale: 0.9,
        counter: true,
        formatNumber: true,
        customSectors: [
          {
            color: '#ff0000',
            lo: 50,
            hi: 100
          },
          {
            color: '#00ff00',
            lo: 0,
            hi: 50
          }
        ],
        counter: true
      })

    
    
    // Define temperature gauges
    const createTempGauge = (id, symbol, value) =>
      new JustGage({
        id,
        symbol,
        value,
        pointer: true,
        min: 0,
        max: 100,
        gaugeWidthScale: 0.9,
        counter: true,
        formatNumber: true
      })
    
    // rpm Generator
    const rpmGenerator = npmGenerator('rpm_generator', 0)
    
    const d_zone1 = createZoneGauge('zone1', 0)
    const d_zone2 = createZoneGauge('zone2', 0)
    const d_zone3 = createZoneGauge('zone3', 0)
    const d_zone4 = createZoneGauge('zone4', 0)
    
    // temperature
    const tempGenerator = createTempGauge('temp_generator', ' C', 0)
    const tempBat1 = createTempGauge('temp_bat_1', ' C', 0)
    const tempBat2 = createTempGauge('temp_bat_2', ' C', 0)
    const room_temp = createTempGauge('room_temp', ' C', 0)
    const level_air = createTempGauge('level_air', ' CM', 0)

    const height = document.getElementById('height')
    const medium = document.getElementById('medium')
    const normal = document.getElementById('normal')
    const low = document.getElementById('low')
    

    const height2 = document.getElementById('height2')
    const medium2 = document.getElementById('medium2')
    const normal2 = document.getElementById('normal2')
    const low2 = document.getElementById('low2')

    const height3 = document.getElementById('height3')
    const medium3 = document.getElementById('medium3')
    const normal3 = document.getElementById('normal3')
    const low3 = document.getElementById('low3')

    
    client.on('message', (topic, message, packet) => {
      const jsonData = JSON.parse(message.toString())
      // SW 
      if (jsonData.SW1 !== undefined) {
          if (jsonData.SW1 >= -30) {
              height.className = 'ww3 wave'
              medium.className = 'ww3 wave'
              normal.className = 'ww2 wave'
              low.className = 'ww1 wave'

              height2.className = 'ww3 wave'
              medium2.className = 'ww3 wave'
              normal2.className = 'ww2 wave'
              low2.className = 'ww1 wave'
          } 
          if (jsonData.SW1 >= -67) {
              height.className = 'ww4 wave'
              medium.className = 'ww4 wave'
              normal.className = 'ww2 wave'
              low.className = 'ww1 wave'

              height2.className = 'ww4 wave'
              medium2.className = 'ww4 wave'
              normal2.className = 'ww2 wave'
              low2.className = 'ww1 wave'
          } 
          if (jsonData.SW1 >= -70) {
              height.className = 'ww4 wave'
              medium.className = 'ww4 wave'
              normal.className = 'ww2 wave'
              low.className = 'ww1 wave'

              height2.className = 'ww4 wave'
              medium2.className = 'ww4 wave'
              normal2.className = 'ww2 wave'
              low2.className = 'ww1 wave'
          } 
          if (jsonData.SW1 >= -80) {
              height.className = 'ww4 wave'
              medium.className = 'ww4 wave'
              normal.className = 'ww4 wave'
              low.className = 'ww1 wave'

              height2.className = 'ww4 wave'
              medium2.className = 'ww4 wave'
              normal2.className = 'ww4 wave'
              low2.className = 'ww1 wave'
          } 
          //document.getElementById('SW').innerHTML = jsonData.SW
      }

      if (jsonData.SW2 !== undefined) {
        if (jsonData.SW2 >= -30) {
            height2.className = 'ww3 wave'
            medium2.className = 'ww3 wave'
            normal2.className = 'ww2 wave'
            low2.className = 'ww1 wave'
        } 
        if (jsonData.SW2 >= -67) {
            height2.className = 'ww4 wave'
            medium2.className = 'ww4 wave'
            normal2.className = 'ww2 wave'
            low2.className = 'ww1 wave'
        } 
        if (jsonData.SW2 >= -70) {
            height2.className = 'ww4 wave'
            medium2.className = 'ww4 wave'
            normal2.className = 'ww2 wave'
            low2.className = 'ww1 wave'
        } 
        if (jsonData.SW2 >= -80) {
            height2.className = 'ww4 wave'
            medium2.className = 'ww4 wave'
            normal2.className = 'ww4 wave'
            low2.className = 'ww1 wave'
        } 
        //document.getElementById('SW').innerHTML = jsonData.SW
    }

    if (jsonData.SW3 !== undefined) {
      if (jsonData.SW3 >= -30) {
          height3.className = 'ww3 wave'
          medium3.className = 'ww3 wave'
          normal3.className = 'ww2 wave'
          low3.className = 'ww1 wave'
      } 
      if (jsonData.SW3 >= -67) {
          height3.className = 'ww4 wave'
          medium3.className = 'ww4 wave'
          normal3.className = 'ww2 wave'
          low3.className = 'ww1 wave'
      } 
      if (jsonData.SW3 >= -70) {
          height3.className = 'ww4 wave'
          medium3.className = 'ww4 wave'
          normal3.className = 'ww2 wave'
          low3.className = 'ww1 wave'
      } 
      if (jsonData.SW3 >= -80) {
          height3.className = 'ww4 wave'
          medium3.className = 'ww4 wave'
          normal3.className = 'ww4 wave'
          low3.className = 'ww1 wave'
      } 
      //document.getElementById('SW').innerHTML = jsonData.SW
  }
    
      // update data
      if (jsonData.IDC !== undefined) {
        document.getElementById('idc').innerHTML = jsonData.IDC
      }
    
      if (jsonData.PDC !== undefined) {
        document.getElementById('pdc').innerHTML = jsonData.PDC
      }
    
      if (jsonData.EDC !== undefined) {
        document.getElementById('edc').innerHTML = jsonData.EDC
      }
    
      if (jsonData.VAC !== undefined) {
        document.getElementById('vac').innerHTML = jsonData.VAC
      }
    
      if (jsonData.IAC !== undefined) {
        document.getElementById('iac').innerHTML = jsonData.IAC
      }
    
      if (jsonData.PAC !== undefined) {
        document.getElementById('pac').innerHTML = jsonData.PAC
      }
    
      if (jsonData.EAC !== undefined) {
        document.getElementById('eac').innerHTML = jsonData.EAC
      }
    
      if (jsonData.VDC !== undefined) {
        document.getElementById('vdc').innerHTML = jsonData.VDC
      }
    
      if (jsonData.EDC !== undefined) {
        document.getElementById('edc').innerHTML = jsonData.EDC
      }
    
      // Update zone values based on received JSON data
      if (jsonData.MOIS1 !== undefined) {
        zone1 = jsonData.MOIS1
        d_zone1.refresh(zone1)
      }
    
      if (jsonData.MOIS2 !== undefined) {
        zone2 = jsonData.MOIS2
        d_zone2.refresh(zone2)
      }
    
      if (jsonData.MOIS3 !== undefined) {
        zone3 = jsonData.MOIS3
        d_zone3.refresh(zone3)
      }
    
      if (jsonData.MOIS4 !== undefined) {
        zone4 = jsonData.MOIS4
        d_zone4.refresh(zone4)
      }
    
      // temperature
      if (jsonData.TEMP1 !== undefined) {
        tempGenerator.refresh(jsonData.TEMP1)
      }
      if (jsonData.TEMP2 !== undefined) {
        tempBat1.refresh(jsonData.TEMP2)
      }
      if (jsonData.TEMP3 !== undefined) {
        tempBat2.refresh(jsonData.TEMP3)
      }

      if (jsonData.TEMP !== undefined) {
        room_temp.refresh(jsonData.TEMP)
      }
    
      if (jsonData.RPM !== undefined) {
        const img = document.getElementById('img_generator')
        
        if (jsonData.RPM > 0) {
          img.src = '/static/img/generator.gif'
        } else {
          img.src = '/static/img/generator.png'
        }
        rpmGenerator.refresh(jsonData.RPM)
      }
      
      if (typeof jsonData.PINTU !== 'undefined' && jsonData.PINTU == 1) {
        var gateButton = document.getElementById('gate');
        gateButton.className = 'btn btn-success'; // Replace 'btn-success' with the desired class
        gateButton.innerHTML = 'OPEN'; // Replace 'Open' with the desired text
      } else if (typeof jsonData.PINTU !== 'undefined' && jsonData.PINTU == 0) {
        var gateButton = document.getElementById('gate');
        gateButton.className = 'btn btn-danger'; // Replace 'btn-success' with the desired class
        gateButton.innerHTML = 'CLOSE'; // Replace 'Open' with the desired text
      }
      // if (jsonData.PINTU !== 'undefined') {
      //   if (jsonData.PINTU == 1) {
      //     $('#gate').bootstrapToggle('on', true);
      //   }
      // }
    })
  </script>

  <script>
    const chargingCheckbox = $("#charging");
    chargingCheckbox.on("change", function() {
      // Check if the checkbox is checked or unchecked
      if (chargingCheckbox.prop("checked")) {
        client.publish(LORAMASTER2, '1', { qos: 0, retain: false })
        console.log('Charging is ON');
        // You can perform other actions here when it's checked
      } else {
        client.publish(LORAMASTER2, '0', { qos: 0, retain: false })
        console.log('Charging is OFF');
        // You can perform other actions here when it's unchecked
      }
    });

    const pompa1 = $("#pompa1");
    pompa1.on("change", function() {
      // Check if the checkbox is checked or unchecked
      if (pompa1.prop("checked")) {
        client.publish(LORAMASTER2, '11', { qos: 0, retain: false })
        console.log('Pompa 1 is ON');
        // You can perform other actions here when it's checked
      } else {
        client.publish(LORAMASTER2, '10', { qos: 0, retain: false })
        console.log('Pompa 1 is ON');
        // You can perform other actions here when it's unchecked
      }
    });

    const pompa2 = $("#pompa2");
    pompa2.on("change", function() {
      // Check if the checkbox is checked or unchecked
      if (pompa2.prop("checked")) {
        client.publish(LORAMASTER2, '21', { qos: 0, retain: false })
        console.log('Pompa 2 is ON');
        // You can perform other actions here when it's checked
      } else {
        client.publish(LORAMASTER2, '20', { qos: 0, retain: false })
        console.log('Pompa 2 is ON');
        // You can perform other actions here when it's unchecked
      }
    });

    const pompa3 = $("#pompa3");
    pompa3.on("change", function() {
      // Check if the checkbox is checked or unchecked
      if (pompa3.prop("checked")) {
        client.publish(LORAMASTER2, '31', { qos: 0, retain: false })
        console.log('Pompa 2 is ON');
        // You can perform other actions here when it's checked
      } else {
        client.publish(LORAMASTER2, '30', { qos: 0, retain: false })
        console.log('Pompa 2 is ON');
        // You can perform other actions here when it's unchecked
      }
    });


  </script>
  
{% endblock %}
